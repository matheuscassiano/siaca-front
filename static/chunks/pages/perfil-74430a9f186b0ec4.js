(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4495],{5635:function(e,n,t){"use strict";t.d(n,{Z:function(){return SideMenu}});var r=t(9499),o=t(1613),s=t(3752),i=t(6694),a=t(4073),c=t(4868);t(1163);var u=t(6334),l=t(4975),d=t(9583),f=t(7294);t(2704),t(5940),t(2247),t(6403),t(4778);var p=t(6242),m=t(5664),h=(0,m.zo)(p.Z).withConfig({displayName:"styles__MenuContainer",componentId:"sc-1fsgyz8-0"})(["min-width:21em;height:100vh;display:flex;flex-direction:column;justify-content:space-between;padding:1.2em;"]),g=m.zo.h1.withConfig({displayName:"styles__MenuTitle",componentId:"sc-1fsgyz8-1"})(["font-weight:500;font-size:1.5rem;padding:0.2em 0 1em;"]),x=m.zo.div.withConfig({displayName:"styles__MenuGroup",componentId:"sc-1fsgyz8-2"})(["padding:1em 0;"]),j=m.zo.p.withConfig({displayName:"styles__MenuGroupTitle",componentId:"sc-1fsgyz8-3"})(["font-size:0.85rem;font-weight:500;text-transform:uppercase;margin-bottom:0.25em;"]),y=m.zo.li.withConfig({displayName:"styles__MenuGroupItem",componentId:"sc-1fsgyz8-4"})(["display:flex;align-items:center;gap:0.5em;list-style:none;padding:0.5em 1em;cursor:pointer;color:darkslategray;font-size:1rem;font-weight:500;border-radius:5px;transition:background-color ease-in-out 0.2s;&:hover{background-color:#4ec4cc;}"]),_=m.zo.div.withConfig({displayName:"styles__MenuFooterContainer",componentId:"sc-1fsgyz8-5"})(["justify-self:flex-end;"]),v=m.zo.div.withConfig({displayName:"styles__MenuFooter",componentId:"sc-1fsgyz8-6"})(["display:flex;align-items:center;gap:1em;margin:1.2em 0 0.8em;padding-top:1.5em;border-top:1px solid lightgrey;"]),b=m.zo.img.withConfig({displayName:"styles__Profile",componentId:"sc-1fsgyz8-7"})(["width:4em;height:4em;object-fit:cover;border-radius:100%;"]),w=m.zo.p.withConfig({displayName:"styles__UserName",componentId:"sc-1fsgyz8-8"})(["font-size:1.1rem;font-weight:500;"]),C=m.zo.p.withConfig({displayName:"styles__UserEmail",componentId:"sc-1fsgyz8-9"})(["font-size:0.9em;"]),O=t(5893);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function SideMenu(){var e,n,t,r,p,m=(0,f.useContext)(u.S),z=m.user,S=m.setUser,P=(0,d.useRouter)();return(0,f.useEffect)(function(){var e=localStorage.getItem("user"),n=localStorage.getItem("access"),t=localStorage.getItem("refresh");e&&n&&t&&S(_objectSpread(_objectSpread({},z),{},{info:JSON.parse(e),token:{access:n,refresh:t}}))},[]),(0,O.jsxs)(h,{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(g,{children:"Sistema Acad\xeamico"}),(0,O.jsxs)(x,{children:[(0,O.jsx)(j,{children:"Dashboard"}),(0,O.jsxs)("ul",{children:[(0,O.jsxs)(y,{onClick:function(){return P.push("/home")},children:[(0,O.jsx)(o.Z,{}),(0,O.jsx)("span",{children:"Home"})]}),(0,O.jsxs)(y,{onClick:function(){return P.push("/perfil")},children:[(0,O.jsx)(s.Z,{}),(0,O.jsx)("span",{children:"Perfil"})]})]})]}),(null==z?void 0:null===(e=z.info)||void 0===e?void 0:e.user_user_type)==="coordenador"&&(0,O.jsxs)(x,{children:[(0,O.jsx)(j,{children:"Coordena\xe7\xe3o"}),(0,O.jsxs)("ul",{children:[(0,O.jsxs)(y,{onClick:function(){return P.push("/cursos")},children:[(0,O.jsx)(i.Z,{}),(0,O.jsx)("span",{children:"Cursos"})]}),(0,O.jsxs)(y,{onClick:function(){return P.push("/ofertas/cadastro")},children:[(0,O.jsx)(a.Z,{}),(0,O.jsx)("span",{children:"Cadastrar Ofertas"})]}),(0,O.jsxs)(y,{onClick:function(){return P.push("/matriculas")},children:[(0,O.jsx)(a.Z,{}),(0,O.jsx)("span",{children:"Matr\xedculas"})]}),(0,O.jsxs)(y,{onClick:function(){return P.push("/disciplinas")},children:[(0,O.jsx)(a.Z,{}),(0,O.jsx)("span",{children:"Disciplinas"})]}),(0,O.jsxs)(y,{onClick:function(){return P.push("/salas")},children:[(0,O.jsx)(l.Z,{}),(0,O.jsx)("span",{children:"Salas"})]})]})]}),(null==z?void 0:null===(n=z.info)||void 0===n?void 0:n.user_user_type)==="professor"&&(0,O.jsxs)(x,{children:[(0,O.jsx)(j,{children:"Professor"}),(0,O.jsx)("ul",{children:(0,O.jsxs)(y,{onClick:function(){return P.push("/minhas-ofertas")},children:[(0,O.jsx)(a.Z,{}),(0,O.jsx)("span",{children:"Minhas Ofertas"})]})})]}),(null==z?void 0:null===(t=z.info)||void 0===t?void 0:t.user_user_type)==="aluno"&&(0,O.jsxs)(x,{children:[(0,O.jsx)(j,{children:"Aluno"}),(0,O.jsxs)("ul",{children:[(0,O.jsxs)(y,{onClick:function(){return P.push("/ofertas")},children:[(0,O.jsx)(a.Z,{}),(0,O.jsx)("span",{children:"Ofertas"})]}),(0,O.jsxs)(y,{onClick:function(){return P.push("/matriculas/aluno")},children:[(0,O.jsx)(a.Z,{}),(0,O.jsx)("span",{children:"Matr\xedculas"})]})]})]})]}),(0,O.jsxs)(_,{children:[(0,O.jsxs)(y,{onClick:function(){P.push("/login"),localStorage.clear()},children:[(0,O.jsx)(c.Z,{}),(0,O.jsx)("span",{children:"Logout"})]}),(0,O.jsxs)(v,{children:[(0,O.jsx)(b,{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fvectorified.com%2Fimages%2Fuser-account-icon-27.png&f=1&nofb=1&ipt=c7fe8fc7d91fa2cd96fbcc959297389aa9bfe59991f81656e24457c4c3be9ae6&ipo=images",alt:"Perfil"}),(0,O.jsxs)("div",{children:[(0,O.jsx)(w,{children:null==z?void 0:null===(r=z.info)||void 0===r?void 0:r.user_username}),(0,O.jsx)(C,{children:null==z?void 0:null===(p=z.info)||void 0===p?void 0:p.user_email})]})]})]})]})}},9451:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return CoursePage}});var r=t(9499),o=t(5635),s=t(6334),i=t(8818),a=t(6329),c=t(474),u=t(1319),l=t(3746),d=t(6312),f=t(135),p=t(9008),m=t.n(p),h=t(7294),g=t(7536),x=t(1604),j=t(5893);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var y=x.z.object({first_name:x.z.string().min(2,"O primeiro nome deve ter ao menus 20 caracteres").optional(),last_name:x.z.string().min(20,"O sobrenome nome deve ter ao menus 20 caracteres").optional(),username:x.z.string().min(3,"O nome de usu\xe1rio deve ter ao menus 3 caracteres").optional(),email:x.z.string().email().optional(),telefone:x.z.string().min(8,"O telefone deve ter ao menus 8 d\xedgtos").max(12,"O telefone deve ter ao menus 12 d\xedgtos").optional(),cpf:x.z.string().min(11,"o CPF deve ter ao menus 11 caracteres").optional(),estado:x.z.string().optional(),cidade:x.z.string().optional(),bairro:x.z.string().optional(),endereco:x.z.string().min(20,"A descri\xe7\xe3o deve ter ao menus 20 caracteres").optional()});function CoursePage(){var e=(0,h.useContext)(s.S),n=e.user,t=e.setUser,r=(0,h.useState)(),p=r[0],x=r[1],_=(0,h.useState)(""),v=_[0],b=_[1],w=(0,h.useState)("");w[0],w[1];var C=(0,h.useState)(""),O=C[0],z=C[1],S=(0,h.useState)(""),P=S[0],k=S[1],Z=(0,h.useState)(""),N=Z[0],I=Z[1],E=(0,h.useState)(""),F=E[0],q=E[1],M=(0,h.useState)(""),G=M[0],T=M[1],D=(0,h.useState)(""),U=(D[0],D[1]);(0,h.useEffect)(function(){setTimeout(function(){var e=JSON.parse(localStorage.getItem("user")||"");e&&(x(e.user_id),b(e.user_username),k(e.user_cpf),T(e.user_estado),q(e.user_cidade),I(e.user_endereco),z(e.user_email))},500)},[]);var J=(0,g.cI)({mode:"all",resolver:(0,d.F)(y)});return J.register,J.handleSubmit,J.formState.errors,(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m(),{children:(0,j.jsx)("title",{children:"Perfil"})}),(0,j.jsxs)(u._,{children:[(0,j.jsx)(o.Z,{}),(0,j.jsxs)(u.J,{children:[(0,j.jsx)(a.G,{children:"Perfil"}),(0,j.jsxs)(i.ZP,{children:[(0,j.jsx)(f.Z,{label:"Nome",value:v,onChange:function(e){return b(e.target.value)},required:!0}),(0,j.jsx)(f.Z,{label:"CPF",value:P,onChange:function(e){return k(e.target.value)},required:!0}),(0,j.jsx)(f.Z,{label:"Estado",value:G,onChange:function(e){return T(e.target.value)},required:!0}),(0,j.jsx)(f.Z,{label:"Cidade",value:F,onChange:function(e){return q(e.target.value)},required:!0}),(0,j.jsx)(f.Z,{label:"Endere\xe7o",value:N,onChange:function(e){return I(e.target.value)},required:!0}),(0,j.jsx)(f.Z,{label:"Email",type:"email",value:O,onChange:function(e){return z(e.target.value)},required:!0})]}),(0,j.jsx)(i.BQ,{children:(0,j.jsx)(c.Z,{variant:"contained",onClick:function(){(0,l.Z)({route:"api/usuario/".concat(p,"/"),method:"PUT",body:{username:v,cpf:P,estado:G,cidade:F,endereco:N,email:O}}).then(function(e){console.log(n);var r=_objectSpread(_objectSpread({},null==n?void 0:n.info),{},{user_id:p,user_username:e.username||v,user_cpf:e.cpf||P,user_estado:e.estado||G,user_cidade:e.cidade||F,user_endereco:e.endereco||N,user_email:e.email||O});t(_objectSpread(_objectSpread({},n),{},{info:r})),localStorage.setItem("user",JSON.stringify(r))}).catch(function(e){Object.keys(e).forEach(function(n){return U("".concat(n,": ").concat(e[n]))})})},children:"Salvar"})})]})]})]})}},8818:function(e,n,t){"use strict";t.d(n,{BQ:function(){return s}});var r=t(5664),o=r.zo.form.withConfig({displayName:"Form__CourseFormContainer",componentId:"sc-9nremn-0"})(["display:flex;flex-direction:column;gap:1em;padding:1em 0 1.8em;"]),s=r.zo.div.withConfig({displayName:"Form__CourseButtonContainer",componentId:"sc-9nremn-1"})(["display:flex;align-items:center;justify-content:space-between;column-gap:1em;"]);n.ZP=o},6329:function(e,n,t){"use strict";t.d(n,{G:function(){return r}});var r=t(5664).zo.h2.withConfig({displayName:"HeaderTitle",componentId:"sc-1gliol9-0"})(["color:darkslategray;font-weight:500;font-size:1.8rem;padding:0.5em 0;"])},474:function(e,n,t){"use strict";var r=t(3321),o=(0,t(5664).zo)(r.Z).withConfig({displayName:"LargeButton",componentId:"sc-tkimcx-0"})(["width:100%;padding:.8em 1em;"]);n.Z=o},1319:function(e,n,t){"use strict";t.d(n,{J:function(){return s},_:function(){return o}});var r=t(5664),o=r.zo.main.withConfig({displayName:"Page__PageContainer",componentId:"sc-krl95c-0"})(["display:flex;align-items:flex-start;justify-content:space-between;"]),s=r.zo.section.withConfig({displayName:"Page__PageContent",componentId:"sc-krl95c-1"})(["max-height:100vh;overflow-y:auto;display:flex;flex-direction:column;flex-grow:1;padding:2.5em;"])},3746:function(e,n,t){"use strict";t.d(n,{Z:function(){return httpRequest}});var r=t(29),o=t(7794),s=t.n(o);function httpRequest(e){return _httpRequest.apply(this,arguments)}function _httpRequest(){return(_httpRequest=(0,r.Z)(s().mark(function _callee(e){var n,t,r,o,i,a,c,u;return s().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.route,t=e.method,r=e.body,o=e.setLoading,s.prev=1,i=localStorage.getItem("access"),a={method:t.toUpperCase(),headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify(r)},"GET"===t.toUpperCase()&&delete a.body,s.next=7,fetch("".concat("http://18.217.136.84","/").concat(n),a);case 7:if(!(204!==(c=s.sent).status)){s.next=14;break}return s.next=11,c.json();case 11:s.t0=s.sent,s.next=15;break;case 14:s.t0=c;case 15:if(u=s.t0,!(c.ok&&u)){s.next=20;break}return s.abrupt("return",u);case 20:throw u.detail||u;case 22:s.next=31;break;case 24:if(s.prev=24,s.t1=s.catch(1),"string"!=typeof s.t1){s.next=30;break}throw s.t1;case 30:throw"Erro ao executar requisi\xe7\xe3o!";case 31:return s.prev=31,o&&o(!1),s.finish(31);case 34:return s.abrupt("return",null);case 35:case"end":return s.stop()}},_callee,null,[[1,24,31,34]])}))).apply(this,arguments)}},3265:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return t(9451)}])},1163:function(){},29:function(e,n,t){"use strict";function asyncGeneratorStep(e,n,t,r,o,s,i){try{var a=e[s](i),c=a.value}catch(e){t(e);return}a.done?n(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var s=e.apply(n,t);function _next(e){asyncGeneratorStep(s,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(s,r,o,_next,_throw,"throw",e)}_next(void 0)})}}t.d(n,{Z:function(){return _asyncToGenerator}})}},function(e){e.O(0,[5664,1698,1084,8809,9292,135,3760,9774,2888,179],function(){return e(e.s=3265)}),_N_E=e.O()}]);