(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5073],{7741:function(e,t,n){"use strict";n.d(t,{g:function(){return Loading}});var r=n(5664),a=r.zo.div.withConfig({displayName:"styles__LoadingContainer",componentId:"sc-142l8lv-0"})(["width:100%;height:calc(100vh - 16em);display:flex;align-items:center;justify-content:center;"]),s=r.zo.p.withConfig({displayName:"styles__LoadingText",componentId:"sc-142l8lv-1"})(["font-weight:500;font-size:1.8rem;"]),o=n(5893);function Loading(){return(0,o.jsx)(a,{children:(0,o.jsx)(s,{children:"Carregando..."})})}},7914:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ClassroomPage}});var r=n(1071),a=n(7741),s=n(5635),o=n(6007),i=n(6329),c=n(1319),u=n(2898),l=n(3746),d=n(2428),h=n(9008),f=n.n(h),p=n(7294),x=n(9583),g=n(7651),_=n(5568),m=n(5893);function ClassroomPage(){var e=(0,p.useState)(!0),t=e[0],n=e[1],h=(0,p.useState)([]),j=h[0],v=h[1],w=(0,p.useState)(""),y=w[0],C=w[1],b=(0,x.useRouter)(),handleClose=function(e,t){"clickaway"!==t&&C("")};(0,p.useEffect)(function(){(0,l.Z)({method:"GET",route:"coordenacao/listar-salas/",setLoading:n}).then(function(e){v(e.map(function(e){return{id:e.id,title:e.descricao,subtitle:"Lugares: ".concat(e.lugares)}}))}).catch(function(e){return C(e)})},[]);var k=[{title:"Remover",exec:function(e){(0,l.Z)({method:"DELETE",route:"coordenacao/salas/".concat(e,"/"),setLoading:n}).then(function(){return v(j.filter(function(t){return t.id!==e}))}).catch(function(e){return C(e)})}}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f(),{children:(0,m.jsx)("title",{children:"Salas"})}),(0,m.jsxs)(c._,{children:[(0,m.jsx)(s.Z,{}),(0,m.jsxs)(c.J,{children:[(0,m.jsxs)("section",{children:[(0,m.jsx)(i.G,{children:"Salas de Aula"}),(0,m.jsx)(u.Z,{label:"Pesquisa"}),t?(0,m.jsx)(a.g,{}):(0,m.jsx)(r.a,{items:j,moreMenu:k})]}),(0,m.jsx)(o.Z,{color:"primary","aria-label":"add",onClick:function(){return b.push("/salas/cadastro")},children:(0,m.jsx)(d.Z,{})})]})]}),(0,m.jsx)(g.Z,{open:!!y,autoHideDuration:5e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,m.jsx)(_.Z,{severity:"error",onClose:handleClose,sx:{width:"100%"},children:y})})]})}},3746:function(e,t,n){"use strict";n.d(t,{Z:function(){return httpRequest}});var r=n(29),a=n(7794),s=n.n(a);function httpRequest(e){return _httpRequest.apply(this,arguments)}function _httpRequest(){return(_httpRequest=(0,r.Z)(s().mark(function _callee(e){var t,n,r,a,o,i,c,u;return s().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.route,n=e.method,r=e.body,a=e.setLoading,s.prev=1,o=localStorage.getItem("access"),i={method:n.toUpperCase(),headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify(r)},"GET"===n.toUpperCase()&&delete i.body,s.next=7,fetch("".concat("http://18.217.136.84","/").concat(t),i);case 7:if(!(204!==(c=s.sent).status)){s.next=14;break}return s.next=11,c.json();case 11:s.t0=s.sent,s.next=15;break;case 14:s.t0=c;case 15:if(u=s.t0,!(c.ok&&u)){s.next=20;break}return s.abrupt("return",u);case 20:throw u.detail||u;case 22:s.next=31;break;case 24:if(s.prev=24,s.t1=s.catch(1),"string"!=typeof s.t1){s.next=30;break}throw s.t1;case 30:throw"Erro ao executar requisi\xe7\xe3o!";case 31:return s.prev=31,a&&a(!1),s.finish(31);case 34:return s.abrupt("return",null);case 35:case"end":return s.stop()}},_callee,null,[[1,24,31,34]])}))).apply(this,arguments)}},1692:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/salas",function(){return n(7914)}])}},function(e){e.O(0,[5664,1698,1084,8809,9292,135,3458,795,3348,5175,9774,2888,179],function(){return e(e.s=1692)}),_N_E=e.O()}]);