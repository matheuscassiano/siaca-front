(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{7741:function(e,t,n){"use strict";n.d(t,{g:function(){return Loading}});var r=n(5664),i=r.zo.div.withConfig({displayName:"styles__LoadingContainer",componentId:"sc-142l8lv-0"})(["width:100%;height:calc(100vh - 16em);display:flex;align-items:center;justify-content:center;"]),s=r.zo.p.withConfig({displayName:"styles__LoadingText",componentId:"sc-142l8lv-1"})(["font-weight:500;font-size:1.8rem;"]),o=n(5893);function Loading(){return(0,o.jsx)(i,{children:(0,o.jsx)(s,{children:"Carregando..."})})}},8269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return SubjectsPage}});var r=n(1071),i=n(7741),s=n(5635),o=n(6007),a=n(6329),c=n(1319),u=n(2898),l=n(3746),d=n(2428),h=n(7651),p=n(5568),f=n(9008),x=n.n(f),g=n(9583),j=n(7294),_=n(5893);function SubjectsPage(){var e=(0,j.useState)([]),t=e[0],n=e[1],f=(0,j.useState)(!0),m=f[0],v=f[1],w=(0,g.useRouter)(),y=(0,j.useState)(""),b=y[0],C=y[1],handleClose=function(e,t){"clickaway"!==t&&C("")};(0,j.useEffect)(function(){(0,l.Z)({method:"GET",route:"coordenacao/listas-disciplinas/",setLoading:v}).then(function(e){e&&n(e.map(function(e){return{id:e.id,title:e.nome}}))}).catch(function(e){console.error(e)})},[]);var k=[{title:"Remover",exec:function(e){(0,l.Z)({method:"DELETE",route:"coordenacao/disciplinas/".concat(e,"/"),setLoading:v}).then(function(){return n(t.filter(function(t){return t.id!==e}))}).catch(function(e){return C(e)})}}];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(x(),{children:(0,_.jsx)("title",{children:"Disciplinas"})}),(0,_.jsxs)(c._,{children:[(0,_.jsx)(s.Z,{}),(0,_.jsxs)(c.J,{children:[(0,_.jsxs)("section",{children:[(0,_.jsx)(a.G,{children:"Disciplinas"}),(0,_.jsx)(u.Z,{label:"Pesquisa"}),m?(0,_.jsx)(i.g,{}):(0,_.jsx)(r.a,{items:t,moreMenu:k})]}),(0,_.jsx)(o.Z,{color:"primary","aria-label":"add",onClick:function(){return w.push("/disciplinas/cadastro")},children:(0,_.jsx)(d.Z,{})})]})]}),(0,_.jsx)(h.Z,{open:!!b,autoHideDuration:5e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,_.jsx)(p.Z,{severity:"error",onClose:handleClose,sx:{width:"100%"},children:b})})]})}},3746:function(e,t,n){"use strict";n.d(t,{Z:function(){return httpRequest}});var r=n(29),i=n(7794),s=n.n(i);function httpRequest(e){return _httpRequest.apply(this,arguments)}function _httpRequest(){return(_httpRequest=(0,r.Z)(s().mark(function _callee(e){var t,n,r,i,o,a,c,u;return s().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.route,n=e.method,r=e.body,i=e.setLoading,s.prev=1,o=localStorage.getItem("access"),a={method:n.toUpperCase(),headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify(r)},"GET"===n.toUpperCase()&&delete a.body,s.next=7,fetch("".concat("http://18.217.136.84","/").concat(t),a);case 7:if(!(204!==(c=s.sent).status)){s.next=14;break}return s.next=11,c.json();case 11:s.t0=s.sent,s.next=15;break;case 14:s.t0=c;case 15:if(u=s.t0,!(c.ok&&u)){s.next=20;break}return s.abrupt("return",u);case 20:throw u.detail||u;case 22:s.next=31;break;case 24:if(s.prev=24,s.t1=s.catch(1),"string"!=typeof s.t1){s.next=30;break}throw s.t1;case 30:throw"Erro ao executar requisi\xe7\xe3o!";case 31:return s.prev=31,i&&i(!1),s.finish(31);case 34:return s.abrupt("return",null);case 35:case"end":return s.stop()}},_callee,null,[[1,24,31,34]])}))).apply(this,arguments)}},8247:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/disciplinas",function(){return n(8269)}])}},function(e){e.O(0,[5664,1698,1084,8809,9292,135,3458,795,3348,5175,9774,2888,179],function(){return e(e.s=8247)}),_N_E=e.O()}]);