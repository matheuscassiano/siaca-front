(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1697],{7741:function(e,t,n){"use strict";n.d(t,{g:function(){return Loading}});var r=n(5664),o=r.zo.div.withConfig({displayName:"styles__LoadingContainer",componentId:"sc-142l8lv-0"})(["width:100%;height:calc(100vh - 16em);display:flex;align-items:center;justify-content:center;"]),i=r.zo.p.withConfig({displayName:"styles__LoadingText",componentId:"sc-142l8lv-1"})(["font-weight:500;font-size:1.8rem;"]),a=n(5893);function Loading(){return(0,a.jsx)(o,{children:(0,a.jsx)(i,{children:"Carregando..."})})}},9429:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return CoursePage}});var r=n(1071),o=n(7741),i=n(5635),a=n(6007),s=n(6329),c=n(1319),u=n(2898),d=n(3746),l=n(2428),h=n(7651),f=n(5568),p=n(9008),x=n.n(p),g=n(9583),_=n(7294),j=n(5893);function CoursePage(){var e=(0,_.useState)([]),t=e[0],n=e[1],p=(0,_.useState)(!0),m=p[0],v=p[1],w=(0,_.useState)(""),y=w[0],C=w[1],b=(0,g.useRouter)(),handleClose=function(e,t){"clickaway"!==t&&C("")};(0,_.useEffect)(function(){(0,d.Z)({method:"GET",route:"coordenacao/periodo/",setLoading:v}).then(function(e){n(e.map(function(e){return{id:e.id,title:e.id,subtitle:"".concat(e.start_date," - ").concat(e.end_date)}}))}).catch(function(e){return C(e)})},[]);var k=[{title:"Remover",exec:function(e){(0,d.Z)({method:"DELETE",route:"coordenacao/periodo/".concat(e,"/"),setLoading:v}).then(function(){return n(t.filter(function(t){return t.id!==e}))}).catch(function(e){return C(e)})}}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x(),{children:(0,j.jsx)("title",{children:"Per\xedodo"})}),(0,j.jsxs)(c._,{children:[(0,j.jsx)(i.Z,{}),(0,j.jsxs)(c.J,{children:[(0,j.jsxs)("section",{children:[(0,j.jsx)(s.G,{children:"Per\xedodo"}),(0,j.jsx)(u.Z,{label:"Pesquisa"}),m?(0,j.jsx)(o.g,{}):(0,j.jsx)(r.a,{items:t,moreMenu:k})]}),(0,j.jsx)(a.Z,{color:"primary","aria-label":"add",onClick:function(){return b.push("/periodos/cadastro")},children:(0,j.jsx)(l.Z,{})})]})]}),(0,j.jsx)(h.Z,{open:!!y,autoHideDuration:5e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(f.Z,{severity:"error",onClose:handleClose,sx:{width:"100%"},children:y})})]})}},3746:function(e,t,n){"use strict";n.d(t,{Z:function(){return httpRequest}});var r=n(29),o=n(7794),i=n.n(o);function httpRequest(e){return _httpRequest.apply(this,arguments)}function _httpRequest(){return(_httpRequest=(0,r.Z)(i().mark(function _callee(e){var t,n,r,o,a,s,c,u;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.route,n=e.method,r=e.body,o=e.setLoading,i.prev=1,a=localStorage.getItem("access"),s={method:n.toUpperCase(),headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(r)},"GET"===n.toUpperCase()&&delete s.body,i.next=7,fetch("".concat("http://18.217.136.84","/").concat(t),s);case 7:if(!(204!==(c=i.sent).status)){i.next=14;break}return i.next=11,c.json();case 11:i.t0=i.sent,i.next=15;break;case 14:i.t0=c;case 15:if(u=i.t0,!(c.ok&&u)){i.next=20;break}return i.abrupt("return",u);case 20:throw u.detail||u;case 22:i.next=31;break;case 24:if(i.prev=24,i.t1=i.catch(1),"string"!=typeof i.t1){i.next=30;break}throw i.t1;case 30:throw"Erro ao executar requisi\xe7\xe3o!";case 31:return i.prev=31,o&&o(!1),i.finish(31);case 34:return i.abrupt("return",null);case 35:case"end":return i.stop()}},_callee,null,[[1,24,31,34]])}))).apply(this,arguments)}},6586:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/periodos",function(){return n(9429)}])}},function(e){e.O(0,[5664,1698,1084,8809,9292,135,3458,795,3348,5175,9774,2888,179],function(){return e(e.s=6586)}),_N_E=e.O()}]);