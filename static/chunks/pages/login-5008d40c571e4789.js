(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{7298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return r}});var r=n(8754)._(n(7294)).default.createContext({})},8138:function(e,t){"use strict";function isInAmpMode(e){var t=void 0===e?{}:e,n=t.ampFirst,r=t.hybrid,o=t.hasQuery;return void 0!==n&&n||void 0!==r&&r&&void 0!==o&&o}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return isInAmpMode}})},330:function(e,t,n){"use strict";var r=n(930);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{defaultHead:function(){return _defaultHead},default:function(){return _default2}});var o=n(8754),a=n(1757)._(n(7294)),i=o._(n(7605)),c=n(7298),s=n(7912),u=n(8138);function _defaultHead(e){void 0===e&&(e=!1);var t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function onlyReactElement(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce(function(e,t){return"string"==typeof t||"number"==typeof t?e:e.concat(t)},[])):e.concat(t)}n(7683);var l=["name","httpEquiv","charSet","itemProp"];function reduceComponents(e,t){var n,o,i,c,s=t.inAmpMode;return e.reduce(onlyReactElement,[]).reverse().concat(_defaultHead(s).reverse()).filter((n=new Set,o=new Set,i=new Set,c={},function(e){var t=!0,r=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){r=!0;var a=e.key.slice(e.key.indexOf("$")+1);n.has(a)?t=!1:n.add(a)}switch(e.type){case"title":case"base":o.has(e.type)?t=!1:o.add(e.type);break;case"meta":for(var s=0,u=l.length;s<u;s++){var d=l[s];if(e.props.hasOwnProperty(d)){if("charSet"===d)i.has(d)?t=!1:i.add(d);else{var f=e.props[d],p=c[d]||new Set;("name"!==d||!r)&&p.has(f)?t=!1:(p.add(f),c[d]=p)}}}}return t})).reverse().map(function(e,t){var n=e.key||t;if(!s&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(function(t){return e.props.href.startsWith(t)})){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.props||{});return o["data-href"]=o.href,o.href=void 0,o["data-optimized-fonts"]=!0,a.default.cloneElement(e,o)}return a.default.cloneElement(e,{key:n})})}var _default2=function(e){var t=e.children,n=(0,a.useContext)(c.AmpStateContext),r=(0,a.useContext)(s.HeadManagerContext);return a.default.createElement(i.default,{reduceComponentsToState:reduceComponents,headManager:r,inAmpMode:(0,u.isInAmpMode)(n)},t)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7605:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return SideEffect}});var r=n(7294),o=r.useLayoutEffect,a=r.useEffect;function SideEffect(e){var t=e.headManager,n=e.reduceComponentsToState;function emitChange(){if(t&&t.mountedInstances){var o=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(o,e))}}return o(function(){var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),function(){var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}}),o(function(){return t&&(t._pendingUpdate=emitChange),function(){t&&(t._pendingUpdate=emitChange)}}),a(function(){return t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),function(){t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)}}),null}},7683:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return warnOnce}});var warnOnce=function(e){}},90:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ForgotPasswordForm}});var r=n(29),o=n(7794),a=n.n(o),i=n(474),c=n(135),s=n(7157),u=n(7294),l=n(5893);function ForgotPasswordForm(e){var t,n=e.setForgotPassword,setForm=function(){return n(!1)},o=(0,u.useState)(""),d=o[0],f=o[1],p=(t=(0,r.Z)(a().mark(function _callee(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8000/autenticacao/request-password-reset/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d})});case 3:200===e.sent.status&&setForm(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error during login:",e.t0);case 10:case"end":return e.stop()}},_callee,null,[[0,7]])})),function(){return t.apply(this,arguments)});return(0,l.jsxs)(s.LoginContent,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(s.Title,{children:"Recuperar minha senha"}),(0,l.jsx)(s.SubTitle,{children:"Vamos te ajudar a recuperar sua senha"})]}),(0,l.jsx)(c.Z,{required:!0,id:"outlined-basic",label:"Email",variant:"outlined",type:"email",value:d,onChange:function(e){return f(e.target.value)}}),(0,l.jsxs)(s.LoginButtonContainer,{children:[(0,l.jsx)(s.Anchor,{onClick:setForm,children:"Realizar Login"}),(0,l.jsx)(i.Z,{onClick:p,variant:"contained",children:"Resetar Senha"})]})]})}},4797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return LoginForm}});var r=n(9499),o=n(29),a=n(7794),i=n.n(a),c=n(474),s=n(3746),u=n(135),l=n(7651),d=n(5568),f=n(9583),p=n(7294),h=n(7157),m=n(6334),g=n(5893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LoginForm(e){var t,n=e.setForgotPassword,r=(0,p.useState)(""),a=r[0],y=r[1],v=(0,p.useState)(""),b=v[0],j=v[1],C=(0,p.useState)(""),w=C[0],_=C[1],x=(0,p.useContext)(m.S),O=x.user,P=x.setUser,S=(0,f.useRouter)(),handleClose=function(e,t){"clickaway"!==t&&_("")},k=(t=(0,o.Z)(i().mark(function _callee(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,s.Z)({method:"POST",route:"autenticacao/login/",body:{username:a,password:b}}).then(function(e){localStorage.setItem("access",e.access),localStorage.setItem("refresh",e.refresh),P(_objectSpread(_objectSpread({},O),{},{token:e})),(0,s.Z)({method:"GET",route:"autenticacao/profile/"}).then(function(e){localStorage.setItem("user",JSON.stringify(e)),P(_objectSpread(_objectSpread({},O),{},{info:e}))}),S.push("/home")}).catch(function(e){e&&"string"!=typeof e?Object.keys(e).forEach(function(t){return _("".concat(t,": ").concat(e[t]))}):_(e)});case 1:case"end":return e.stop()}},_callee)})),function(){return t.apply(this,arguments)});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(h.LoginContent,{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(h.Title,{children:"Entrar no sistema"}),(0,g.jsx)(h.SubTitle,{children:"Vamos facilitar o gerenciamento Acad\xeamico"})]}),(0,g.jsx)(u.Z,{id:"outlined-basic",label:"Usu\xe1rio",variant:"outlined",name:"user",value:a,onChange:function(e){return y(e.target.value)}}),(0,g.jsx)(u.Z,{id:"outlined-basic",label:"Senha",variant:"outlined",name:"pass",type:"password",value:b,onChange:function(e){return j(e.target.value)}}),(0,g.jsxs)(h.LoginButtonContainer,{children:[(0,g.jsx)(h.Anchor,{onClick:function(){return n(!0)},children:"Recuperar minha senha"}),(0,g.jsx)(c.Z,{onClick:k,type:"submit",variant:"contained",children:"Entrar"}),(0,g.jsx)("p",{children:w})]})]}),(0,g.jsx)(l.Z,{open:!!w,autoHideDuration:5e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(d.Z,{severity:"error",onClose:handleClose,sx:{width:"100%"},children:w})})]})}},4996:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return LoginPage}});var r=n(9008),o=n.n(r),a=n(7294),i=n(90),c=n(4797),s=n(7157),u=n(5893);function LoginPage(){var e=(0,a.useState)(!1),t=e[0],n=e[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o(),{children:(0,u.jsx)("title",{children:"Login"})}),(0,u.jsxs)(s.PageContainer,{children:[(0,u.jsxs)(s.LoginContainer,{children:[(0,u.jsx)(s.Title,{children:"Sistema Acad\xeamico"}),t?(0,u.jsx)(i.default,{setForgotPassword:n}):(0,u.jsx)(c.default,{setForgotPassword:n})]}),(0,u.jsx)(s.LoginCover,{src:"/images/login-cover.avif"})]})]})}},7157:function(e,t,n){"use strict";n.r(t),n.d(t,{Anchor:function(){return C},LoginButtonContainer:function(){return _},LoginContainer:function(){return v},LoginContent:function(){return w},LoginCover:function(){return x},PageContainer:function(){return y},SubTitle:function(){return j},Title:function(){return b},default:function(){return O}}),n(2704),n(5940),n(2247),n(4778),n(1163);var r=n(7462),o=n(3366),a=n(7294),i=n(512),c=n(4780),s=n(948),u=n(1657),l=n(1588),d=n(4867);function getCardContentUtilityClass(e){return(0,d.Z)("MuiCardContent",e)}(0,l.Z)("MuiCardContent",["root"]);var f=n(5893);let p=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,c.Z)({root:["root"]},getCardContentUtilityClass,t)},h=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),m=a.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiCardContent"}),{className:a,component:c="div"}=n,s=(0,o.Z)(n,p),l=(0,r.Z)({},n,{component:c}),d=useUtilityClasses(l);return(0,f.jsx)(h,(0,r.Z)({as:c,className:(0,i.Z)(d.root,a),ownerState:l,ref:t},s))});var g=n(5664),y=g.zo.main.withConfig({displayName:"styles__PageContainer",componentId:"sc-9ircl4-0"})(["width:100%;height:100vh;display:grid;grid-template-columns:38em 1fr;border-top:0.8em solid #0d939c;"]),v=g.zo.div.withConfig({displayName:"styles__LoginContainer",componentId:"sc-9ircl4-1"})(["padding:2em;"]),b=g.zo.h1.withConfig({displayName:"styles__Title",componentId:"sc-9ircl4-2"})(["font-size:1.8rem;font-weight:500;"]),j=g.zo.h1.withConfig({displayName:"styles__SubTitle",componentId:"sc-9ircl4-3"})(["font-size:1rem;font-weight:400;padding:0.25em 0 0.5em 0;"]),C=g.zo.a.withConfig({displayName:"styles__Anchor",componentId:"sc-9ircl4-4"})(["color:#00676e;font-weight:500;text-decoration:none;cursor:pointer;&:hover{color:darkslategray;}"]),w=(0,g.zo)(m).withConfig({displayName:"styles__LoginContent",componentId:"sc-9ircl4-5"})(["width:100%;height:calc(100% - 2em);display:flex;flex-direction:column;justify-content:center;gap:1em;padding:2em;"]),_=g.zo.div.withConfig({displayName:"styles__LoginButtonContainer",componentId:"sc-9ircl4-6"})(["display:flex;flex-direction:column;align-items:flex-start;gap:0.5em;margin-top:0.5em;"]),x=g.zo.img.withConfig({displayName:"styles__LoginCover",componentId:"sc-9ircl4-7"})(["width:100%;height:calc(100vh - 0.75em);object-fit:cover;"]),O=y},474:function(e,t,n){"use strict";var r=n(3321),o=(0,n(5664).zo)(r.Z).withConfig({displayName:"LargeButton",componentId:"sc-tkimcx-0"})(["width:100%;padding:.8em 1em;"]);t.Z=o},3746:function(e,t,n){"use strict";n.d(t,{Z:function(){return httpRequest}});var r=n(29),o=n(7794),a=n.n(o);function httpRequest(e){return _httpRequest.apply(this,arguments)}function _httpRequest(){return(_httpRequest=(0,r.Z)(a().mark(function _callee(e){var t,n,r,o,i,c,s,u;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.route,n=e.method,r=e.body,o=e.setLoading,a.prev=1,i=localStorage.getItem("access"),c={method:n.toUpperCase(),headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify(r)},"GET"===n.toUpperCase()&&delete c.body,a.next=7,fetch("".concat("http://18.217.136.84","/").concat(t),c);case 7:if(!(204!==(s=a.sent).status)){a.next=14;break}return a.next=11,s.json();case 11:a.t0=a.sent,a.next=15;break;case 14:a.t0=s;case 15:if(u=a.t0,!(s.ok&&u)){a.next=20;break}return a.abrupt("return",u);case 20:throw u.detail||u;case 22:a.next=31;break;case 24:if(a.prev=24,a.t1=a.catch(1),"string"!=typeof a.t1){a.next=30;break}throw a.t1;case 30:throw"Erro ao executar requisi\xe7\xe3o!";case 31:return a.prev=31,o&&o(!1),a.finish(31);case 34:return a.abrupt("return",null);case 35:case"end":return a.stop()}},_callee,null,[[1,24,31,34]])}))).apply(this,arguments)}},3700:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(4996)}])},1163:function(){},9008:function(e,t,n){e.exports=n(330)},9583:function(e,t,n){e.exports=n(4441)}},function(e){e.O(0,[5664,1698,1084,8809,135,3458,9774,2888,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);