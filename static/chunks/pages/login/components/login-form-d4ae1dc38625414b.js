(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2283],{4797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return LoginForm}});var o=n(9499),r=n(29),i=n(7794),a=n.n(i),s=n(474),c=n(3746),u=n(135),l=n(7651),d=n(5568),p=n(9583),f=n(7294),h=n(7157),m=n(6334),g=n(5893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LoginForm(e){var t,n=e.setForgotPassword,o=(0,f.useState)(""),i=o[0],y=o[1],C=(0,f.useState)(""),w=C[0],b=C[1],_=(0,f.useState)(""),v=_[0],x=_[1],j=(0,f.useContext)(m.S),O=j.user,S=j.setUser,Z=(0,p.useRouter)(),handleClose=function(e,t){"clickaway"!==t&&x("")},k=(t=(0,r.Z)(a().mark(function _callee(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,c.Z)({method:"POST",route:"autenticacao/login/",body:{username:i,password:w}}).then(function(e){localStorage.setItem("access",e.access),localStorage.setItem("refresh",e.refresh),S(_objectSpread(_objectSpread({},O),{},{token:e})),(0,c.Z)({method:"GET",route:"autenticacao/profile/"}).then(function(e){localStorage.setItem("user",JSON.stringify(e)),S(_objectSpread(_objectSpread({},O),{},{info:e}))}),Z.push("/home")}).catch(function(e){e&&"string"!=typeof e?Object.keys(e).forEach(function(t){return x("".concat(t,": ").concat(e[t]))}):x(e)});case 1:case"end":return e.stop()}},_callee)})),function(){return t.apply(this,arguments)});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(h.LoginContent,{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(h.Title,{children:"Entrar no sistema"}),(0,g.jsx)(h.SubTitle,{children:"Vamos facilitar o gerenciamento Acad\xeamico"})]}),(0,g.jsx)(u.Z,{id:"outlined-basic",label:"Usu\xe1rio",variant:"outlined",name:"user",value:i,onChange:function(e){return y(e.target.value)}}),(0,g.jsx)(u.Z,{id:"outlined-basic",label:"Senha",variant:"outlined",name:"pass",type:"password",value:w,onChange:function(e){return b(e.target.value)}}),(0,g.jsxs)(h.LoginButtonContainer,{children:[(0,g.jsx)(h.Anchor,{onClick:function(){return n(!0)},children:"Recuperar minha senha"}),(0,g.jsx)(s.Z,{onClick:k,type:"submit",variant:"contained",children:"Entrar"}),(0,g.jsx)("p",{children:v})]})]}),(0,g.jsx)(l.Z,{open:!!v,autoHideDuration:5e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(d.Z,{severity:"error",onClose:handleClose,sx:{width:"100%"},children:v})})]})}},7157:function(e,t,n){"use strict";n.r(t),n.d(t,{Anchor:function(){return _},LoginButtonContainer:function(){return x},LoginContainer:function(){return C},LoginContent:function(){return v},LoginCover:function(){return j},PageContainer:function(){return y},SubTitle:function(){return b},Title:function(){return w},default:function(){return O}}),n(2704),n(5940),n(2247),n(4778),n(1163);var o=n(7462),r=n(3366),i=n(7294),a=n(512),s=n(4780),c=n(948),u=n(1657),l=n(1588),d=n(4867);function getCardContentUtilityClass(e){return(0,d.Z)("MuiCardContent",e)}(0,l.Z)("MuiCardContent",["root"]);var p=n(5893);let f=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getCardContentUtilityClass,t)},h=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),m=i.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,c=(0,r.Z)(n,f),l=(0,o.Z)({},n,{component:s}),d=useUtilityClasses(l);return(0,p.jsx)(h,(0,o.Z)({as:s,className:(0,a.Z)(d.root,i),ownerState:l,ref:t},c))});var g=n(5664),y=g.zo.main.withConfig({displayName:"styles__PageContainer",componentId:"sc-9ircl4-0"})(["width:100%;height:100vh;display:grid;grid-template-columns:38em 1fr;border-top:0.8em solid #0d939c;"]),C=g.zo.div.withConfig({displayName:"styles__LoginContainer",componentId:"sc-9ircl4-1"})(["padding:2em;"]),w=g.zo.h1.withConfig({displayName:"styles__Title",componentId:"sc-9ircl4-2"})(["font-size:1.8rem;font-weight:500;"]),b=g.zo.h1.withConfig({displayName:"styles__SubTitle",componentId:"sc-9ircl4-3"})(["font-size:1rem;font-weight:400;padding:0.25em 0 0.5em 0;"]),_=g.zo.a.withConfig({displayName:"styles__Anchor",componentId:"sc-9ircl4-4"})(["color:#00676e;font-weight:500;text-decoration:none;cursor:pointer;&:hover{color:darkslategray;}"]),v=(0,g.zo)(m).withConfig({displayName:"styles__LoginContent",componentId:"sc-9ircl4-5"})(["width:100%;height:calc(100% - 2em);display:flex;flex-direction:column;justify-content:center;gap:1em;padding:2em;"]),x=g.zo.div.withConfig({displayName:"styles__LoginButtonContainer",componentId:"sc-9ircl4-6"})(["display:flex;flex-direction:column;align-items:flex-start;gap:0.5em;margin-top:0.5em;"]),j=g.zo.img.withConfig({displayName:"styles__LoginCover",componentId:"sc-9ircl4-7"})(["width:100%;height:calc(100vh - 0.75em);object-fit:cover;"]),O=y},474:function(e,t,n){"use strict";var o=n(3321),r=(0,n(5664).zo)(o.Z).withConfig({displayName:"LargeButton",componentId:"sc-tkimcx-0"})(["width:100%;padding:.8em 1em;"]);t.Z=r},3746:function(e,t,n){"use strict";n.d(t,{Z:function(){return httpRequest}});var o=n(29),r=n(7794),i=n.n(r);function httpRequest(e){return _httpRequest.apply(this,arguments)}function _httpRequest(){return(_httpRequest=(0,o.Z)(i().mark(function _callee(e){var t,n,o,r,a,s,c,u;return i().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.route,n=e.method,o=e.body,r=e.setLoading,i.prev=1,a=localStorage.getItem("access"),s={method:n.toUpperCase(),headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(o)},"GET"===n.toUpperCase()&&delete s.body,i.next=7,fetch("".concat("http://18.217.136.84","/").concat(t),s);case 7:if(!(204!==(c=i.sent).status)){i.next=14;break}return i.next=11,c.json();case 11:i.t0=i.sent,i.next=15;break;case 14:i.t0=c;case 15:if(u=i.t0,!(c.ok&&u)){i.next=20;break}return i.abrupt("return",u);case 20:throw u.detail||u;case 22:i.next=31;break;case 24:if(i.prev=24,i.t1=i.catch(1),"string"!=typeof i.t1){i.next=30;break}throw i.t1;case 30:throw"Erro ao executar requisi\xe7\xe3o!";case 31:return i.prev=31,r&&r(!1),i.finish(31);case 34:return i.abrupt("return",null);case 35:case"end":return i.stop()}},_callee,null,[[1,24,31,34]])}))).apply(this,arguments)}},4874:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/components/login-form",function(){return n(4797)}])},1163:function(){},9583:function(e,t,n){e.exports=n(4441)}},function(e){e.O(0,[5664,1698,1084,8809,135,3458,9774,2888,179],function(){return e(e.s=4874)}),_N_E=e.O()}]);