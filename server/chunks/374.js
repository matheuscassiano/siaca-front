"use strict";exports.id=374,exports.ids=[374],exports.modules={374:(e,t,r)=>{r.r(t),r.d(t,{default:()=>LoginForm});var n=r(3823),o=r(8196),a=r(7988),i=r.n(a),s=r(8404),c=r.n(s),l=r(9580),d=r.n(l),u=r(1163),h=r(6689),p=r(9981),b=r(5860),g=r(997);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LoginForm({setForgotPassword:e}){let{0:t,1:r}=(0,h.useState)(""),{0:a,1:s}=(0,h.useState)(""),{0:l,1:j}=(0,h.useState)(""),{user:m,setUser:y}=(0,h.useContext)(b.S),f=(0,u.useRouter)(),handleClose=(e,t)=>{"clickaway"!==t&&j("")},handleLogin=async()=>{(0,o.Z)({method:"POST",route:"autenticacao/login/",body:{username:t,password:a}}).then(e=>{localStorage.setItem("access",e.access),localStorage.setItem("refresh",e.refresh),y(_objectSpread(_objectSpread({},m),{},{token:e})),(0,o.Z)({method:"GET",route:"autenticacao/profile/"}).then(e=>{localStorage.setItem("user",JSON.stringify(e)),y(_objectSpread(_objectSpread({},m),{},{info:e}))}),f.push("/home")}).catch(e=>{e&&"string"!=typeof e?Object.keys(e).forEach(t=>j(`${t}: ${e[t]}`)):j(e)})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(p.LoginContent,{children:[(0,g.jsxs)("div",{children:[g.jsx(p.Title,{children:"Entrar no sistema"}),g.jsx(p.SubTitle,{children:"Vamos facilitar o gerenciamento Acad\xeamico"})]}),g.jsx(i(),{id:"outlined-basic",label:"Usu\xe1rio",variant:"outlined",name:"user",value:t,onChange:e=>r(e.target.value)}),g.jsx(i(),{id:"outlined-basic",label:"Senha",variant:"outlined",name:"pass",type:"password",value:a,onChange:e=>s(e.target.value)}),(0,g.jsxs)(p.LoginButtonContainer,{children:[g.jsx(p.Anchor,{onClick:()=>e(!0),children:"Recuperar minha senha"}),g.jsx(n.Z,{onClick:handleLogin,type:"submit",variant:"contained",children:"Entrar"}),g.jsx("p",{children:l})]})]}),g.jsx(c(),{open:!!l,autoHideDuration:5e3,onClose:handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:g.jsx(d(),{severity:"error",onClose:handleClose,sx:{width:"100%"},children:l})})]})}},3823:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(6096),o=r.n(n),a=r(7518);let i=(0,a.styled)(o()).withConfig({displayName:"LargeButton",componentId:"sc-tkimcx-0"})(["width:100%;padding:.8em 1em;"]),s=i}};